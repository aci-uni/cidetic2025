<!DOCTYPE html>
<html lang="es">
<head>
  <link rel="icon" type="image/png" href="assets/CIDELOGO.png">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ponentes - CIDETIC 2025 | Student Chapter ACI UNI</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Montserrat:wght@500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
  <style>
    /* Read-more styles */
.speaker .desc {
  overflow: hidden;
  transition: max-height 0.35s ease;
  line-height: 1.5;
  max-height: calc(1.5em * 4); /* muestra 4 líneas por defecto */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 4; /* soporte principal en WebKit */
  margin-bottom: 0.5rem;
  text-align: left;
}
.speaker .desc.expanded {
  /* cuando está expandido quitamos el recorte */
  -webkit-line-clamp: unset;
  display: block;
  max-height: none;
}
.speaker .read-more {
  background: none;
  border: none;
  color: var(--azul-claro);
  font-weight: 700;
  cursor: pointer;
  padding: 6px 0;
  margin-top: 8px;
}
.speaker .read-more:focus {
  outline: 2px dashed rgba(96,165,250,0.5);
  outline-offset: 2px;
}
    :root {
      --azul-oscuro: #0A1F44;
      --azul-medio: #1E3A8A;
      --azul-claro: #3B82F6;
      --blanco: #FFFFFF;
      --gris-claro: #F8FAFC;
      --gris-medio: #E2E8F0;
      --celeste: #60A5FA;
      --dorado: #F59E0B;
      --sombra-suave: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
      --sombra-hover: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    body { font-family: 'Inter', sans-serif; background: var(--blanco); color: var(--azul-oscuro); line-height: 1.6; overflow-x: hidden; }
    @keyframes fadeInUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
    .fade-in { animation: fadeInUp 0.8s ease-out forwards; }
    .navbar { position: fixed; top: 0; width: 100%; background: rgba(10, 31, 68, 0.92); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); border-bottom: 1px solid rgba(255, 255, 255, 0.06); z-index: 1000; }
    .navbar.scrolled { background: rgba(10, 31, 68, 0.98); padding: 8px 0; box-shadow: var(--sombra-suave); }
    .nav-container { max-width: 1200px; margin: 0 auto; display: flex; align-items: center; justify-content: space-between; padding: 0 20px; position: relative; }
    .menu-toggle { background: none; border: none; font-size: 2em; color: white; cursor: pointer; margin-right: 10px; order: 1; }
    .nav-logo { display: flex; align-items: center; gap: 10px; order: 2; justify-content: center; flex: 1; }
    .nav-menu { display: flex; gap: 30px; list-style: none; align-items: center; margin: 0; order: 3; flex: 2; justify-content: center; }
    .nav-cta { display: flex; align-items: center; order: 4; margin-left: auto; }
    .nav-logo img { height: 40px; width: auto; transition: transform 0.3s ease; }
    .nav-logo:hover img { transform: scale(1.05); }
    .nav-logo span { font-family: 'Montserrat', sans-serif; font-weight: 700; font-size: 1.2em; color: var(--blanco); }
    .nav-menu li a { color: var(--blanco); text-decoration: none; font-weight: 600; font-size: 1rem; transition: all 0.3s ease; position: relative; display: flex; align-items: center; gap: 5px; padding: 8px 4px; }
    .nav-menu li a::after { content: ''; position: absolute; bottom: 0; left: 50%; width: 0; height: 2px; background: linear-gradient(90deg, var(--celeste), var(--dorado)); transition: all 0.3s ease; transform: translateX(-50%); }
    .nav-menu li a:hover::after, .nav-menu li a.active::after { width: 100%; }
    .nav-menu li a:hover { color: var(--celeste); }
    .nav-menu li a.active { color: var(--celeste); }
    .nav-cta .btn-cta { text-decoration: none; padding: 10px 20px; background: linear-gradient(135deg, var(--celeste), var(--dorado)); color: var(--blanco); border-radius: 25px; font-weight: 600; display: inline-flex; gap: 10px; align-items: center; }
    .nav-cta .btn-cta:hover { transform: translateY(-2px); box-shadow: var(--sombra-hover); color: var(--blanco); }
    .hero { min-height: 60vh; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; padding: 120px 20px 50px; background: linear-gradient(135deg, rgba(59,130,246,0.06), rgba(16,185,129,0.03)); position: relative; overflow: hidden; }
    .hero::before { content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><linearGradient id="g" x1="0" x2="1"><stop stop-color="%2360A5FA" offset="0"/><stop stop-color="%23F59E0B" offset="1"/></linearGradient></defs><circle cx="80" cy="10" r="40" fill="url(%23g)" opacity="0.05"/></svg>') no-repeat center/cover; pointer-events: none; }
    .hero h1 { font-family: 'Montserrat', sans-serif; font-size: 3em; font-weight: 700; margin-bottom: 20px; text-shadow: 0 2px 4px rgba(0,0,0,0.08); animation: fadeInUp 1s ease-out;}
    .hero p { font-size: 1.3em; margin-bottom: 40px; max-width: 800px; opacity: 0.95; animation: fadeInUp 1s ease-out 0.2s both;}
    .hero .btn { text-decoration: none; padding: 15px 35px; background: linear-gradient(135deg, var(--celeste), var(--dorado)); color: var(--blanco); border-radius: 50px; font-weight: 700; font-size: 1em; display: inline-block; position: relative; overflow: hidden; }
    .hero .btn::before { content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.12), transparent); transition: left 0.5s ease; }
    .hero .btn:hover::before { left: 100%; }
    .hero .btn:hover { transform: translateY(-3px); box-shadow: var(--sombra-hover); color: var(--blanco);}
    section { padding: 100px 20px; max-width: 1500px; margin: 0 auto; text-align: center;}
    section h2 { font-family: 'Montserrat', sans-serif; font-size: 2.2em; margin-bottom: 30px; color: var(--azul-oscuro); position: relative;}
    section h2::after { content: ''; display: block; width: 60px; height: 4px; background: linear-gradient(90deg, var(--celeste), var(--dorado)); margin: 10px auto; border-radius: 2px;}
    section p { font-size: 1.2em; line-height: 1.8; margin-bottom: 30px; max-width: 800px; margin-left: auto; margin-right: auto; opacity: 0.9;}
    .speakers { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px; margin-top: 30px;}
    .speaker { background: var(--blanco); border-radius: 18px; box-shadow: var(--sombra-suave); padding: 20px; transition: all 0.3s ease; text-align: center; position: relative; }
    .speaker:hover { transform: translateY(-5px); box-shadow: var(--sombra-hover);}
    .speaker img { width: 120px; height: 120px; border-radius: 50%; margin-bottom: 15px; border: 4px solid var(--celeste); transition: transform 0.3s ease; display: block; margin-left: auto; margin-right: auto; object-fit: cover; background: #f3f4f6; }
    .speaker:hover img { transform: scale(1.05); }
    .speaker h3 { font-family: 'Montserrat', sans-serif; margin-bottom: 10px; color: var(--azul-oscuro);}
    .speaker .tag { display: inline-block; background: var(--celeste); color: var(--blanco); padding: 5px 12px; border-radius: 15px; font-size: 0.85em; font-weight: 600; margin: 10px auto 15px; text-align: center; }
    .speaker p { font-size: 1em; color: var(--azul-medio); opacity: 0.8; text-align: center;}
    .speaker .social-links { margin-top: 15px; text-align: center;}
    .speaker .social-links a { color: var(--celeste); font-size: 1.2em; margin: 0 10px; transition: color 0.3s ease;}
    .speaker .social-links a:hover { color: var(--dorado);}
    footer { background: linear-gradient(135deg, var(--azul-oscuro), var(--azul-medio)); color: var(--blanco); text-align: center; padding: 40px 20px; font-size: 1em; position: relative;}
    footer::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 4px; background: linear-gradient(90deg, var(--celeste), var(--dorado));}
    footer strong { color: var(--celeste); }
    footer a { color: var(--celeste); text-decoration: none; transition: color 0.3s;}
    footer a:hover { color: var(--dorado);}
    @media (max-width: 900px) {
      .nav-container { flex-wrap: nowrap; }
      .nav-logo { flex: 1; justify-content: center; }
      .nav-cta { margin-left: 0; }
    }
    @media (max-width: 768px) {
      .nav-container { flex-direction: row; align-items: center; justify-content: space-between; }
      .menu-toggle { display: block; order: 1; }
      .nav-logo { order: 2; flex: 1; justify-content: center; }
      .nav-cta { order: 4; margin-left: auto; }
      .nav-menu {
        display: none;
        flex-direction: column;
        gap: 10px;
        position: absolute;
        top: 56px;
        left: 0;
        width: 100vw;
        background: rgba(10,31,68,0.98);
        box-shadow: var(--sombra-suave);
        z-index: 999;
        padding: 20px 0;
        border-bottom: 1px solid rgba(255,255,255,0.1);
        border-top: 1px solid rgba(255,255,255,0.1);
      }
      .nav-menu.active { display: flex; }
      .nav-menu li a i { display: none; }
      .hero { padding: 120px 20px 40px; min-height: 50vh; }
      .speakers { grid-template-columns: 1fr; gap: 20px; }
    }
    @media (max-width: 480px) {
      .nav-menu { gap: 15px; }
      .hero h1 { font-size: 2em; }
      .hero .btn { padding: 12px 25px; font-size: 1em; }
      .nav-cta .btn-cta { padding: 8px 16px; font-size: 0.9em; }
    }
  </style>
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar">
    <div class="nav-container">
      <button class="menu-toggle" aria-label="Abrir menú"><i class="fas fa-bars"></i></button>
      <div class="nav-logo">
        <img src="assets/logo-aci-uni.png" alt="ACI UNI Logo">
        <span>CIDETIC 2025</span>
      </div>
      <ul class="nav-menu">
        <li><a href="index.html"><i class="fas fa-home"></i> Inicio</a></li>
        <li><a href="programa.html"><i class="fas fa-calendar-alt"></i> Programa</a></li>
        <li><a href="ponentes.html" class="active"><i class="fas fa-users"></i> Ponentes</a></li>
        <li><a href="inscripciones.html"><i class="fas fa-user-plus"></i> Inscripciones</a></li>
        <li><a href="contacto.html"><i class="fas fa-envelope"></i> Contacto</a></li>
      </ul>
      <div class="nav-cta">
        <a href="inscripciones.html" class="btn-cta"><i class="fas fa-user-plus"></i> Regístrate</a>
      </div>
    </div>
  </nav>

  <!-- Hero -->
  <section class="hero">
    <h1>Ponentes Destacados</h1>
    <p>Expertos internacionales y locales compartirán su conocimiento en innovación y tecnología aplicada a la ingeniería civil.<br><strong>¡No te pierdas sus conferencias!</strong></p>
    <a href="inscripciones.html" class="btn"><i class="fas fa-user-plus"></i> Inscríbete para Escucharlos</a>
  </section>

  <!-- Sección de Ponentes -->
  <section id="speakers" class="fade-in">
    <h2><center>Conoce a Nuestros Ponentes</center></h2>
    <p>Seleccionados por su experiencia y contribuciones al campo de la ingeniería civil.</p>
    <div class="speakers">
      <!-- Ponente agregado -->
      
      <div class="speaker fade-in">
        <img src="assets/ponentes/mori.jpg" alt="MBA GARCIA MORI">
        <h3>MBA. Ing. Edward García Mori</h3>
        <span class="tag">Construcción</span>
        <p><strong>Conferencia:</strong> Lunes 24 de noviembre, 6:00 PM</p>
        <p class="desc">MBA de ESAN – Especialización en Finanzas Corporativas. Ingeniero Civil Titulado y Colegiado de la Universidad Nacional de Ingeniería. Inglés a nivel avanzado. Más de 10 años de experiencia en Gestión de empresas como Gerente General. Conocimiento de Gestión Pública. Experiencia como Ingeniero Residente de Obra. Docente Universitario. Conocimiento de temas en Gestión de Proyectos.</p>
      </div>

      <div class="speaker fade-in">
        <img src="assets/ponentes/Estrada.jpg" alt="Decano FIC UNI">
        <h3>Dr. Ing. Miguel Estrada Mendoza</h3>
        <span class="tag">Vialidad</span>
        <p><strong>Conferencia:</strong> Lunes 24 de noviembre, 8:00 PM</p>
        <p class="desc">Ingeniero Civil por la Universidad Nacional de Ingeniería, Máster en Ciencias y PhD. en Ingeniería Civil por la Universidad de Tokio, Postdoctorado en la Universidad de Chiba, Japón y Grado de Doctor Honoris Causa otorgado por la Universidad Privada de Tacna. Ha ocupado los cargos de Ministro de Vivienda, Construcción y Saneamiento, Presidente Ejecutivo de Servicio Nacional de Capacitación para la Industria de la Construcción – SENCICO, Director General del Centro Peruano Japonés de Investigaciones Sísmicas y Mitigación de Desastres – CISMID, miembro del Directorio del Servicio de Agua Potable y Alcantarillado de Lima – SEDAPAL y del Directorio del Fondo Nacional de Financiamiento de la Actividad Empresarial del Estado – FONAFE, miembro titular del Comité de Investigación de Instituto de Investigación de la Facultad de Ingeniería Civil, Jefe del Departamento Académico de Vialidad y Geomática de la Facultad de Ingeniería Civil de la UNI, miembro del Consejo Directivo del Capítulo de Ingeniería Civil del Colegio de Ingenieros del Perú, Consejo Departamental de Lima. </p>
      </div>

      <div class="speaker fade-in">
        <img src="assets/ponentes/ada.jpg" alt="Dra. ADA">
        <h3>Dra. Ing. Ada Arancibia Samaniego</h3>
        <span class="tag">Hidráulica</span>
        <p><strong>Conferencia:</strong> Martes 25 de noviembre, 6:00 PM</p>
        <p class="desc">Como parte de un equipo interdisciplinario, participó en la implementación de diversos estudios de hidráulica, saneamiento, medio ambiente e infraestructura. Compartió la responsabilidad de implementar las mejores prácticas de gestión de proyectos, incluyendo el diseño de diversas estructuras hidráulicas y defensas fluviales, defensas contra la erosión hídrica en puentes, subdrenaje en carreteras, sistemas de drenaje, cálculo de caudales de inundación y balance hídrico, y estudios de flujos de escombros en arroyos. Además, gestionó la implementación del Plan de Calidad de los Servicios.</p>
      </div>

      <div class="speaker fade-in">
        <img src="assets/ponentes/walter.png" alt="Ing. Walter Melendez">
        <h3>Ing. Walter Melendez</h3>
        <span class="tag">Construcción</span>
        <p><strong>Conferencia:</strong> Martes 25 de noviembre, 8:00 PM</p>
        <p class="desc">Ingeniero civil UNI, Magister en Administración de la Construcción, PUC de Chile, colegiado, certificación en Virtual Design & Construction, Universidad de Stanford, California, USA. Especialización en dirección, gerencia de proyectos y negocios en ESAN, UDEP. Profesional con 16 años de experiencia profesional en importantes proyectos de construcción en Chile y Perú, especialista en gestión de proyectos, productividad, sostenibilidad e innovación en la construcción. Profesional pro activo de espíritu emprendedor, innovador, consolidadas habilidades blandas, trabajo integrador y orientado a resultados.</p>
      </div>

      <div class="speaker fade-in">
        <img src="assets/ponentes/zenon.jpg" alt="Dr. Zenon Aguilar">
        <h3>Dr. Zenon Aguilar</h3>
        <span class="tag">Geotecnia</span> 
        <p><strong>Conferencia:</strong> Miércoles 26 de noviembre, 6:00 PM</p>
        <p class="desc">Doctor en Ingeniería, Especialista en Ingeniería Geotécnica. Profesor Principal de la Facultad de Ingeniería Civil de la UNI. Investigador Asociado del Centro Peruano Japonés de Investigaciones Sísmicas y Mitigación de Desastres de la Facultad de Ingeniería Civil de la UNI (CISMID-FIC-UNI). Consultor en cimentaciones superficiales y profundas, evaluación de peligro sísmico, diseño de presas de tierra, depósitos de relave y prospección sísmica en obras de ingeniería. Miembro de la Red Acelerográfica del CISMID. Miembro de la ASCE. Gerente General de ZER Geosystem Perú S. A. C – Ingeniería Geotécnica. Gerente Técnico de MARJENT Engineering Lab. SAC.</p>
      </div>
      
      <div class="speaker fade-in">
        <img src="assets/ponentes/lobo.png" alt="Ph. D Sebastián Lobo Guerrero">
        <h3>Ph. D Sebastián Lobo Guerrero</h3>
        <span class="tag">Geotecnia</span>
        <p><strong>Conferencia:</strong> Miércoles 26 de noviembre, 8:00 PM</p>
        <p class="desc">Ph. D Sebastián Lobo Guerrero es experto internacional en geotecnia y compartirá su experiencia en el CIDETIC 2025.</p>
      </div>

      <div class="speaker fade-in">
        <img src="assets/ponentes/Vozzi.jpg" alt="Ing. Lucas Vozzi">
        <h3>Ing. Lucas Vozzi</h3>
        <span class="tag">Vialidad</span>
        <p><strong>Conferencia:</strong> Jueves 27 de noviembre, 12:00 PM</p>
        <p class="desc">ANA</p>
      </div>

      <!-- Dra. Arq. Claudia Muñoz - Materiales/Estructuras -->
      <div class="speaker fade-in">
        <img src="assets/ponentes/claudia.png" alt="Dra. Arq. Claudia Muñoz">
        <h3>Dra. Arq. Claudia Muñoz</h3>
        <span class="tag">Materiales / Estructuras</span>
        <p><strong>Conferencia:</strong> Jueves 27 de noviembre, 3:00 PM</p>
        <p class="desc">La Dra. Arq. Claudia Muñoz es Profesora Titular – Facultad de Arquitectura, Construcción y Diseño UBB | Investigadora en Construcción Sustentable &amp; 3D Printing | Impulsora de Innovación y descarbonización en tecnologías de la construcción I+D+i</p>
        <div class="social-links">
          <!-- Enlaces de ejemplo (modificar si se proporcionan reales) -->
          <a href="#" target="_blank" aria-label="Facebook de Claudia Muñoz"><i class="fab fa-facebook"></i></a>
          <a href="#" target="_blank" aria-label="Twitter de Claudia Muñoz"><i class="fab fa-x-twitter"></i></a>
          <a href="#" target="_blank" aria-label="LinkedIn de Claudia Muñoz"><i class="fab fa-linkedin"></i></a>
        </div>
      </div>

      <!-- Ing. Lucas Vozzi - Vialidad -->
      <div class="speaker fade-in">
        <img src="assets/ponentes/lucas-vozzi.jpg" alt="Ing. Lucas Vozzi">
        <h3>Ing. Lucas Vozzi</h3>
        <span class="tag">Vialidad</span>
        <p><strong>Conferencia:</strong> Jueves 27 de noviembre, 4:00 PM</p>
        <p class = "desc">El Ing. Lucas Vozzi es ingeniero civil con experiencia en diseño y gestión de proyectos viales, mantenimiento de carreteras y planificación urbana orientada a la movilidad sostenible.</p>
        <div class="social-links">
          <!-- Enlaces de ejemplo (modificar si se proporcionan reales) -->
          <a href="#" target="_blank" aria-label="Facebook de Lucas Vozzi"><i class="fab fa-facebook"></i></a>
          <a href="#" target="_blank" aria-label="Twitter de Lucas Vozzi"><i class="fab fa-x-twitter"></i></a>
          <a href="#" target="_blank" aria-label="LinkedIn de Lucas Vozzi"><i class="fab fa-linkedin"></i></a>
        </div>
      </div>

      <!-- Ejemplo de ponente, los demás igual -->
      <div class="speaker fade-in">
        <img src="images/ponentes/ana-torres.jpg" alt="Ana Torres">
        <h3>Próximamente</h3>
        <span class="tag">Construcción</span>
        <p>Top Secret</p>
        <div class="social-links">
          <a href="https://www.facebook.com/ana.torres" target="_blank"><i class="fab fa-facebook"></i></a>
          <a href="https://x.com/ana_torres" target="_blank"><i class="fab fa-x-twitter"></i></a>
          <a href="https://www.instagram.com/ana.torres" target="_blank"><i class="fab fa-instagram"></i></a>
          <a href="https://linkedin.com/in/ana-torres" target="_blank"><i class="fab fa-linkedin"></i></a>
        </div>
      </div>

      <!-- ... (resto de ponentes igual que el snippet) ... -->
    </div>
  </section>

  <!-- Footer -->
  <footer>
    Organizado por el <strong>Student Chapter ACI UNI</strong> | © 2025 Todos los derechos reservados | <a href="mailto:aci@uni.edu.pe">aci@uni.edu.pe</a>
  </footer>

  <script>
    // Efecto scroll para navbar
    window.addEventListener('scroll', () => {
      const nav = document.querySelector('.navbar');
      if (window.scrollY > 50) {
        nav.classList.add('scrolled');
      } else {
        nav.classList.remove('scrolled');
      }
    });

    // Hamburguesa para menú móvil
    document.querySelector('.menu-toggle').addEventListener('click', function() {
      document.querySelector('.nav-menu').classList.toggle('active');
    });

    // Smooth scroll para enlaces internos
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        document.querySelector(this.getAttribute('href')).scrollIntoView({
          behavior: 'smooth'
        });
      });
    });
  </script>
  <script>
(function() {
  const LINES = 4;

  function pxToNumber(px) {
    return parseFloat(px || '0');
  }

  function setupReadMore() {
    document.querySelectorAll('.speaker .desc').forEach(desc => {
      // Ensure we start collapsed (use CSS clamp)
      desc.classList.remove('expanded');

      // Measure full height by temporarily removing clamp styles
      const prevDisplay = desc.style.display;
      desc.style.display = 'block';
      desc.style.webkitLineClamp = 'unset';
      desc.style.maxHeight = 'none';
      const fullHeight = desc.scrollHeight;
      // restore
      desc.style.display = prevDisplay || '';
      // compute approx collapsed height (line-height * LINES)
      const cs = window.getComputedStyle(desc);
      let lh = pxToNumber(cs.lineHeight);
      if (!lh || lh === 0) {
        const fontSize = pxToNumber(cs.fontSize) || 16;
        lh = fontSize * 1.2;
      }
      const collapsedHeight = Math.round(lh * LINES);

      // If text is short, no button needed
      if (fullHeight <= collapsedHeight + 2) {
        return;
      }

      // apply explicit max-height for smooth transition
      desc.style.maxHeight = collapsedHeight + 'px';
      desc.dataset.collapsedHeight = collapsedHeight;
      desc.dataset.fullHeight = fullHeight;

      // create button
      const btn = document.createElement('button');
      btn.type = 'button';
      btn.className = 'read-more';
      btn.textContent = 'Ver más';
      btn.setAttribute('aria-expanded', 'false');

      btn.addEventListener('click', () => {
        const expanded = desc.classList.toggle('expanded');
        if (expanded) {
          desc.style.maxHeight = desc.dataset.fullHeight + 'px';
          btn.textContent = 'Ver menos';
          btn.setAttribute('aria-expanded', 'true');
        } else {
          desc.style.maxHeight = desc.dataset.collapsedHeight + 'px';
          btn.textContent = 'Ver más';
          btn.setAttribute('aria-expanded', 'false');
        }
      });

      // insert button after the description paragraph
      desc.insertAdjacentElement('afterend', btn);

      // Recalculate on images/fonts load and on window resize
      const recalc = () => {
        // temporarily expand to measure full height
        desc.style.maxHeight = 'none';
        desc.style.display = 'block';
        const newFull = desc.scrollHeight;
        const cs2 = window.getComputedStyle(desc);
        let lh2 = pxToNumber(cs2.lineHeight);
        if (!lh2 || lh2 === 0) {
          const fontSize = pxToNumber(cs2.fontSize) || 16;
          lh2 = fontSize * 1.2;
        }
        const newCollapsed = Math.round(lh2 * LINES);
        desc.dataset.fullHeight = newFull;
        desc.dataset.collapsedHeight = newCollapsed;
        if (!desc.classList.contains('expanded')) {
          desc.style.maxHeight = newCollapsed + 'px';
          btn.textContent = 'Ver más';
          btn.setAttribute('aria-expanded', 'false');
        } else {
          desc.style.maxHeight = newFull + 'px';
          btn.textContent = 'Ver menos';
          btn.setAttribute('aria-expanded', 'true');
        }
      };

      // Recalculate after fonts/images load
      window.addEventListener('load', recalc);
      window.addEventListener('resize', () => {
        // small debounce
        clearTimeout(desc._rmTimeout);
        desc._rmTimeout = setTimeout(recalc, 150);
      });
    });
  }

  // Run
  document.addEventListener('DOMContentLoaded', setupReadMore);
})();
</script>
</body>
</html>
